---
sidebar: sidebar 
permalink: docs/concept_hci_performance.html 
summary:  
keywords: netapp, hci, on premise, concept_hci_performance 
---
= 성능 및 서비스 품질
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/
:keywords: hci, onprem, documentation,


[role="lead"]
SolidFire 스토리지 클러스터에는 볼륨 기준에 따라 서비스 품질(QoS) 매개 변수를 제공할 수 있는 기능이 있습니다. QoS를 정의하는 세 가지 구성 가능한 매개 변수(최소 IOPS, 최대 IOPS 및 버스트 IOPS)를 사용하여 초당 입력 및 출력(IOPS)으로 측정한 클러스터 성능을 보장할 수 있습니다.


NOTE: SolidFire Active IQ에는 QoS 설정 및 최적의 구성에 대한 조언을 제공하는 QoS 권장 사항 페이지가 있습니다.



== 서비스 품질 매개 변수

IOPS 매개 변수는 다음과 같은 방법으로 정의됩니다.

* * 최소 IOPS * - 스토리지 클러스터가 볼륨에 제공하는 최소 유지 IOPS(초당 입출력) 수입니다. 볼륨에 대해 구성된 최소 IOPS는 볼륨의 보장된 성능 수준입니다. 성능이 이 수준 아래로 떨어지지 않습니다.
* * 최대 IOPS * - 스토리지 클러스터가 볼륨에 제공하는 최대 지속 IOPS 수입니다. 클러스터 IOPS 레벨이 매우 높을 경우 이 IOPS 성능 레벨이 초과하지 않습니다.
* * 버스트 IOPS * - 짧은 버스트 시나리오에서 허용되는 최대 IOPS 수입니다. 볼륨이 최대 IOPS 미만으로 실행 중인 경우 버스트 크레딧이 누적됩니다. 성능 수준이 매우 높고 최대 수준으로 푸시되면 볼륨에 대해 짧은 IOPS 버스트가 허용됩니다.
+
Element 소프트웨어는 클러스터가 낮은 클러스터 IOPS 사용률로 실행 중일 때 버스트 IOPS를 사용합니다.

+
단일 볼륨에서 버스트 IOPS를 늘리고 크레딧을 사용하여 설정된 "버스트 기간"에 대해 최대 IOPS 레벨까지 버스트 IOPS를 초과하는 성능을 높일 수 있습니다. 클러스터에 최대 60초 동안 연속 데이터 증가를 수용할 수 있는 용량이 있는 경우 볼륨이 폭발할 수 있습니다. 볼륨은 최대 IOPS 한도 미만으로 실행되는 초당 1초의 버스트 크레딧(최대 60초)을 누적합니다.

+
버스트 IOPS는 두 가지 방법으로 제한됩니다.

+
** 볼륨은 볼륨이 누적된 버스트 크레딧 수와 동일한 몇 초 동안 최대 IOPS 이상으로 급증할 수 있습니다.
** 볼륨이 최대 IOPS 설정 이상으로 급증하면 버스트 IOPS 설정에 의해 제한됩니다. 따라서 버스트 IOPS는 볼륨에 대한 버스트 IOPS 설정을 초과하지 않는다.


* * 유효 최대 대역폭 * - 최대 대역폭은 IOPS 수(QoS 곡선 기준)에 IO 크기를 곱하여 계산합니다.
+
예: 100분 IOPS, 1000 Max IOPS, 1500 Burst IOP의 QoS 매개 변수 설정은 성능 품질에 다음과 같은 영향을 미칩니다.

+
** 클러스터에서 IOPS에 대한 워크로드 경합이 뚜렷해질 때까지 워크로드가 최대 1000 IOPS에 도달하고 이를 유지할 수 있습니다. 그런 다음 모든 볼륨의 IOPS가 지정된 QoS 범위 내에 있고 성능 경합이 완화될 때까지 IOPS가 점진적으로 감소합니다.
** 모든 볼륨의 성능은 최소 IOPS 100으로 푸시됩니다. 레벨은 최소 IOPS 설정 아래로 떨어지지 않지만 워크로드 경합이 완화될 때 100 IOPS를 초과할 수 있습니다.
** 성능이 1000 IOPS를 넘지 않거나 유지 기간 동안 100 IOPS를 넘지 않습니다. 1500 IOPS(버스트 IOPS)의 성능은 허용되지만, 최대 IOPS 미만으로 실행하여 버스트 크레딧을 계산한 볼륨에 대해서만 짧은 시간 동안만 허용됩니다. 버스트 레벨은 절대 지속되지 않습니다.






== QoS 값 제한

다음은 QoS에 대해 가능한 최소 및 최대 값입니다.

[cols="7*"]
|===
| 매개 변수 | 최소 값 | 기본값 | 4 4KB | 5 8KB | 6 16KB | 262KB 


| 최소 IOPS | 50 | 50 | 15,000 | 9,375 * | 5556 * | 385 * 


| 최대 IOPS | 100 | 15,000 | 200,000** | 125,000개 | 7,4,074입니다 | 5128 


| 버스트 IOPS | 100 | 15,000 | 200,000** | 125,000개 | 74.074 | 5128 
|===
*이러한 예측은 근사치입니다. ** 최대 IOPS 및 버스트 IOPS는 200,000까지 설정할 수 있지만 이 설정은 볼륨의 성능을 효과적으로 해제할 수만 있습니다. 실제 볼륨 최대 성능은 클러스터 사용 및 노드당 성능에 의해 제한됩니다.



== QoS 성능

QoS 성능 곡선은 블록 크기와 IOPS 백분율 간의 관계를 보여줍니다.

블록 크기 및 대역폭은 애플리케이션이 얻을 수 있는 IOPS 수에 직접적인 영향을 미칩니다. Element 소프트웨어는 블록 크기를 4K로 정규화하여 수신하는 블록 크기를 고려합니다. 워크로드에 따라 시스템에서 블록 크기를 늘릴 수 있습니다. 블록 크기가 증가함에 따라 시스템에서 더 큰 블록 크기를 처리하는 데 필요한 수준까지 대역폭을 높일 수 있습니다. 대역폭이 증가할수록 시스템에서 달성할 수 있는 IOPS가 감소합니다.

QoS 성능 곡선은 블록 크기 증가와 IOPS 백분율 간의 관계를 보여줍니다.

image::hci_performance_curve.png[QoS 성능 곡선]

예를 들어, 블록 크기가 4K이고 대역폭이 4,000kbps인 경우 IOPS는 1000입니다. 블록 크기가 8K로 증가할 경우 대역폭이 5,000kbps로 증가하고 IOPS는 625로 감소합니다. 블록 크기를 고려하여 시스템은 백업 및 하이퍼바이저 작업과 같이 더 높은 블록 크기를 사용하는 낮은 우선 순위 워크로드가 더 작은 블록 크기를 사용하는 높은 우선 순위 트래픽에 필요한 성능을 너무 많이 사용하지 않도록 보장합니다.



== QoS 정책

QoS 정책을 사용하면 여러 볼륨에 적용할 수 있는 표준화된 서비스 품질 설정을 생성하여 저장할 수 있습니다.

QoS 정책은 예를 들어, 거의 재부팅되지 않고 동일한 스토리지 액세스가 필요한 데이터베이스, 애플리케이션 또는 인프라 서버와 같은 서비스 환경에 가장 적합합니다. 개별 볼륨 QoS는 가상 데스크톱 또는 특수 키오스크 유형의 VM과 같이 매일 또는 하루에 여러 번 재부팅, 전원 켜기 또는 전원 끄기와 같은 경량 VM에 가장 적합합니다.

QoS 및 QoS 정책을 함께 사용해서는 안 됩니다. QoS 정책을 사용하는 경우 볼륨에 대해 사용자 지정 QoS를 사용하지 마십시오. 사용자 지정 QoS는 볼륨 QoS 설정에 대한 QoS 정책 값을 재정의하고 조정합니다.


NOTE: QoS 정책을 사용하려면 선택한 클러스터가 Element 10.0 이상이어야 합니다. 그렇지 않으면 QoS 정책 기능을 사용할 수 없습니다.

[discrete]
== 자세한 내용을 확인하십시오

* https://docs.netapp.com/us-en/vcp/index.html["vCenter Server용 NetApp Element 플러그인"^]
* https://www.netapp.com/us/documentation/hci.aspx["NetApp HCI 리소스 페이지를 참조하십시오"^]

